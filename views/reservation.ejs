<!DOCTYPE html>
<!-- Coding By CodingNepal - codingnepalweb.com -->
<html lang="en" dir="ltr">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sign-up </title> 
    <link rel="stylesheet" href="/css/style.css">
   </head>
<body>
  <div class="wrapper">
    <h2>Reservation</h2>
    <form id="request" action="/api/reservations" enctype="application/x-www-form-urlencoded" method="post">
      <div class="input-box">
        <input type="date" placeholder="Enter reservation date" name="date" >
      </div>
      <div class="input-box">
        <input type="time" placeholder="Enter reservation time"  name="time"  >
      </div>
      <div class="input-box">
        <input type="number" placeholder="Enter number of people" name="numberOfPeople"  >
      </div>
      <div class="input-box">
        <input type="email" placeholder="Enter your email" name="email"  >
      </div>
      <div class="input-box button">
        <input type="submit" value="Make a reservation">
      </div>
      <div class="text">
      </div>
    </form>

    <script src="https://cdn.emailjs.com/dist/email.min.js"></script>
    <script type="text/javascript">
        (function(){
            emailjs.init("u3VHn5z07GvSDqk5w"); // EmailJS user ID-ni bura daxil et
        })();
    
        document.getElementById("request").addEventListener("submit", function(event) {
            event.preventDefault(); // Formun default submit hadisəsinin qarşısını alırıq
    
            // Form məlumatlarını toplamaq
            const date = document.querySelector("input[name='date']").value;
            const time = document.querySelector("input[name='time']").value;
            const email = document.querySelector("input[name='email']").value;
            const numberOfPeople = document.querySelector("input[name='numberOfPeople']").value;
    
            // Məlumatları bir obyektə toplayırıq
            const formData = {
                date: date,
                time: time,
                email: email,
                numberOfPeople: numberOfPeople
            };
    
            // E-poçt göndərmə funksiyasını çağırırıq
            sendEmail(formData);
        });
    
        function sendEmail(response) {
            emailjs.send("service_bl6f7le", "template_wn6193f", response)
                .then(function(response) {
                    console.log("E-poçt göndərildi!", response);
                    alert("E-poçt göndərildi!");
                }, function(error) {
                    console.log("E-poçt göndərilərkən bir səhv baş verdi...", error);
                });
        }
    </script>
  </div>
</body>
</html>
